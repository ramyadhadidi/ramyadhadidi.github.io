# Copilot Instructions for ramyadhadidi.github.io

## Overview
- **Stack**: Static site built with Jekyll + Minimal Mistakes/Academic Pages theme; GitHub Pages mirrors the local `github-pages` gem stack pinned via `Gemfile.lock`.
- **Source layout**: Author keeps everything under `_pages`, `_data`, `_includes`, `_sass`, `assets/`, `files/`, and `images/`; `_site/` is generated output—never edit it.
- **Config split**: `_config.yml` holds production settings, `_config.dev.yml` disables analytics/comments and expands Sass; restart `jekyll serve` after config edits.
- **Theme extensions**: Most layout tweaks happen via `_includes` (custom head, masthead, analytics, footers). Reuse existing partials instead of modifying theme vendor files.

## Local Workflows
- Install Ruby 3.3.x + Bundler, then `bundle install --path vendor/bundle`; run `bundle lock --add-platform ruby` whenever Bundler warns about missing platforms.
- Preview with `bundle exec jekyll serve --livereload --config _config.yml,_config.dev.yml` (documented in `README.md`); site lives at `http://localhost:4000`.
- Production parity build: `bundle exec jekyll build --config _config.yml`; GitHub Pages runs the same command on pushes to `master`.
- JavaScript pipeline lives in `package.json`; after editing `assets/js/_main.js` or anything in `assets/js/plugins/`, run `npm run build:js` (or `npm run watch:js`).
- Do not hand-edit `assets/js/main.min.js`; it is generated by the UglifyJS script.

## Content Architecture
- There is no `_posts`; long-form writing lives under `_pages/entries/` and is listed by `_pages/entries.md`, which sorts `site.pages` by `date`—every entry file needs `date`, `permalink`, and usually `author_profile: false`.
- Top-level navigation comes from `_data/navigation.yml`; update that file instead of hard-coding menus.
- Rich pages like `publications`, `portfolio`, and `cv` are Markdown with custom HTML; respect existing formatting blocks and `<sup>` wrappers for link clusters.
- Attachments (papers, slides, demos) are stored in `files/` (often namespaced by date) and referenced via `{{ '/files/... | relative_url }}` to survive base URL changes.
- Redirects rely on `redirect_from` entries in front matter (see `_pages/about.md` and `_pages/cv.md`); always add redirects when changing permalinks to avoid 404s.

## Styling & Assets
- Global stylesheet is `assets/css/main.scss`; keep the two-line YAML front matter at the top so Jekyll processes it.
- Customize theme variables or mixins inside `_sass/_variables.scss`, `_sass/_mixins.scss`, etc.; import order in `main.scss` matters, so append new partials near related sections.
- Images, favicons, and manifests live in `images/`; large binary assets belong in `files/` instead of `assets` to avoid Sass/JS pipelines.
- JavaScript behavior (sticky sidebar, lightbox, smooth scroll) is centralized in `assets/js/_main.js`; follow the existing jQuery structure and re-run the JS build after edits.

## Data, Includes, and Collections
- `_data/ui-text.yml` and other data files drive repeated copy (CTA text, labels); prefer editing data over duplicating strings in Markdown.
- `_includes/author-profile.html`, `nav_list`, and `page__hero.html` showcase how site-specific Liquid conditionals are implemented—reuse helpers when adding new layouts.
- Custom collections (`teaching`, `publications`, `portfolio`, `talks`) are declared in `_config.yml`; new collection items should live in folders named after the collection so permalinks like `/:collection/:path/` render correctly.
- Comments default to Disqus shortname `ramyad`, but dev config overrides to `mmistakes-dev`; keep that in mind when testing comment widgets locally.

## Integrations & Gotchas
- Analytics provider is set to `custom` with overrides in `_config.dev.yml`; leave the production tracking intact and make changes in the dev config when experimenting.
- `bundle exec github-pages versions` and `bundle exec jekyll doctor` (see `README.md`) are the accepted sanity checks before pushing major changes.
- Keep binary deps out of git: `vendor/bundle/` and `node_modules/` are already ignored; use the existing `.bundle/config` if you need to tweak Bundler paths.
- Remember that Liquid `link` tags (`{% link _pages/about.md %}`) are used for internal cross-links—update targets rather than hard-coded URLs.
- When touching manifests or PWA assets in `images/manifest.json` or `site.webmanifest`, update the references inside `_includes/head.html` to avoid stale caches.
- Large content changes often need assets uploaded to `files/YYYY-MM-DD/`; follow the existing date-folder naming to keep download links tidy.
